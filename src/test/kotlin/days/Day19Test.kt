package days

import org.hamcrest.MatcherAssert.assertThat
import org.hamcrest.collection.IsCollectionWithSize.hasSize
import org.hamcrest.core.Is.`is`
import org.junit.Test

class Day19Test {

    @Test
    fun testTractorPoints() {
        val expected = """
            #.................................................
            ..................................................
            ..................................................
            ..................................................
            ...#..............................................
            ....#.............................................
            ..................................................
            .....#............................................
            ......#...........................................
            .......#..........................................
            .......##.........................................
            ........##........................................
            .........#........................................
            .........##.......................................
            ..........##......................................
            ...........##.....................................
            ...........###....................................
            ............###...................................
            .............##...................................
            .............###..................................
            ..............###.................................
            ...............###................................
            ...............####...............................
            ................####..............................
            .................###..............................
            .................####.............................
            ..................####............................
            ...................####...........................
            ...................#####..........................
            ....................####..........................
            .....................####.........................
            .....................#####........................
            ......................#####.......................
            .......................#####......................
            .......................######.....................
            ........................#####.....................
            .........................#####....................
            .........................######...................
            ..........................######..................
            ...........................######.................
            ...........................#######................
            ............................######................
            .............................######...............
            .............................#######..............
            ..............................#######.............
            ...............................#######............
            ...............................########...........
            ................................#######...........
            .................................#######..........
            .................................########.........
        """.trimIndent()

        val points = Day19().getTractorPoints(49, 49)
        assertThat(points, hasSize(2500))
        assertThat(points.count { it.pulled }, `is`(189))
        assertThat(Day19().asString(points), `is`(expected))
    }
}
